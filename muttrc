set mbox_type=Maildir
set folder=$HOME/.mutt/gmail

mailboxes +INBOX

#macro index D \
#    "<save-message>+[Gmail]/Trash<enter>" \
#    "move message to the trash"

#macro index S \
#    "<save-message>+[Gmail]/Spam<enter>" \
#    "mark message as spam"


set spoolfile    = +INBOX
set record=~/.mutt/sent
# store message headers locally to speed things up
# if hcache is a folder, Mutt will create sub cache folders for each account which may speeds things even more up
set header_cache = ~/.mutt/.cache/gmail_hcache

# specify where to save and/or look for postponed messages
set postponed = +Drafts

set allow_ansi = yes

set sendmail = /home/wgiokas/bin/msmtp-enqueue

set realname = "William Giokas"
set hostname = "WST420"
set editor=vim
set signature=~/.mutt/signature

set index_format = "%5C %Z %2M %[%F] %-20.20F (%4c) %s"

set mailcap_path=~/.mutt/mailcap
auto_view text/html
alternative_order text/plain text/html

source ~/.mutt/colors.zenburn
source ~/.mutt/gpg.rc
set pgp_autosign=yes

# Key Bindings
bind	index	"^"	imap-fetch-mail

# Sorting
set sort=threads

# so you don't scroll down a full page, leaving 4 lines at the top/bottom
set pager_context	= 4
set pager_stop		= "yes"
set pager_index_lines	= 10
set fast_reply		= "yes"
set smart_wrap


# Alias list shite
set alias_file = "~/.mutt/aliases"
set sort_alias = alias
set reverse_alias = yes
source $alias_file


### MUTT SIDEBAR SETTINGS
# set up the sidebar, default not visible
set sidebar_width=25
set sidebar_visible=yes
set sidebar_delim='│'
set sidebar_sort=no

# which mailboxes to list in the sidebar
mailboxes =INBOX =ML =ML.arch =ML.clug =ML.debian =ML.sl =ML.systemd =ML.xorg =ML.yum =rackspace =ML-kernel =git-bugs =FORUM-arch =AUR =Junk =Phone =github =twitch =[Gmail].Sent\ Mail

# color of folders with new mail
color sidebar_new yellow default

# ctrl-n, ctrl-p to select next, prev folder
# ctrl-o to open selected folder
bind index "_" sidebar-prev
bind index "+" sidebar-next
bind index "-" sidebar-open
bind pager "_" sidebar-prev
bind pager "+" sidebar-next
bind pager "-" sidebar-open

# I don’t need these. just for documentation purposes. See below.
# sidebar-scroll-up
# sidebar-scroll-down

# b toggles sidebar visibility
macro index B "<enter-command>toggle sidebar_visible<enter>"
macro pager B "<enter-command>toggle sidebar_visible<enter>"

# msmtp-listqueue and msmtp-runqueue stuffs
macro index S "<enter-command>unset wait_key<enter><shell-escape>msmtp-listqueue;read -p 'Send this mail? ' _a; if [[ $_a == 'y' ]]; then msmtp-runqueue; fi<enter>" "List and send queued emails"

# Remap bounce-message function to “B”
#bind index B bounce-message

#
# Mario Holbe suggests:
#:macro index B
# macro pager b ‘<enter-command>toggle sidebar_visible<enter><redraw-screen>’
#

# 'L' performs a notmuch query, showing only the results
macro index L "<enter-command>unset wait_key<enter><shell-escape>read -p 'notmuch query: ' x; echo \$x >~/.cache/mutt_terms<enter><limit>~i \"\`notmuch search --output=messages \$(cat ~/.cache/mutt_terms) | head -n 600 | perl -le '@a=<>;chomp@a;s/\^id:// for@a;$,=\"|\";print@a'\`\"<enter>" "show only messages matching a notmuch pattern"
# 'A' shows all messages again
macro index A "<limit>all\n" "show all messages (undo limit)"

# arch linux lists
subscribe -group archlinux *@archlinux.org
subscribe -group archlinux-aur aur-general@archlinux.org
subscribe -group archlinux-aur-dev aur-dev@archlinux.org
subscribe -group archlinux-gen arch-general@archlinux.org
subscribe -group archlinux-pacman pacman-dev@archlinux.org
subscribe -group archlinux-dev arch-dev-public@archlinux.org
subscribe -group archlinux-mirrors arch-mirrors@archlinux.org
subscribe -group archlinux-proj arch-projects@archlinux.org
subscribe -group archlinux-releng arch-releng@archlinux.org
# xorg lists
subscribe -group xorg xorg@*freedesktop.org
subscribe -group xorg xorg-announce@lists.freedesktop.org
subscribe -group xorg xorg@lists.x.org
# systemd lists
subscribe -group systemd systemd-devel@lists.freedesktop.org
# suckless ml
subscribe -group suckless dev@suckless.org
# Yum mailing list
subscribe -group yum yum@lists.baseurl.org
